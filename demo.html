<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
	<script type="text/javascript" src="jquery-3.3.1.min.js" ></script>
</head>
<style>
	#box{ width: 1000px; margin: 0 auto; overflow: hidden;}
	#box span{ float: left; width: 50px; height: 50px; border: 1px solid #ddd; margin: 10px; background: #ddd;}
</style>
<script>
$(function(){
	var onOff=true;
	$('span').mouseover(function(){
		$(this).add($(this).prevAll('span')).css('background','red');
		$(this).nextAll('span').css('background','#ddd');
	}).mouseout(function(){
		if(onOff){
			$('span').css('background','#ddd');
		}else{
			$('.active').nextAll('span').css('background','#ddd');
			$('.active').add($('.active').prevAll('span')).css('background','red');
		}				
	});

		$('span').click(function(){
			if(onOff){
				$('span').removeClass('active');
				$(this).addClass('active');
				$(this).add($(this).prevAll('span')).css('background','red');
				$(this).nextAll('span').css('background','#ddd');
			};
			onOff=false;
			
	})

	
})
</script>
<body>
	<div id="box">
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
	</div>
</body>
</html>
