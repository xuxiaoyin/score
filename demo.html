<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
	<script type="text/javascript" src="jquery-3.3.1.min.js" ></script>
</head>
<style>
	#box{ width: 1000px; margin: 0 auto; overflow: hidden;}
	#box span{ float: left; width: 50px; height: 50px; border: 1px solid #ddd; margin: 10px; background: #ddd;}
</style>
<script>
$(function(){
	var onOff=true;
	var timer=null;
	$('span').mouseover(function(){
		clearTimeout(timer);
		if(onOff){
			$(this).add($(this).prevAll('span')).css('background','red');
			$(this).nextAll('span').css('background','#ddd');
		}
			
	}).mouseout(function(){
		timer=setTimeout(function(){
			if(onOff){
				$('span').css('background','#ddd');	
			}
		},100);		
	}).click(function(){
			onOff=false;		
	});

		
})
</script>
<body>
	<div id="box">
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
	</div>
	
	
</body>
</html>
